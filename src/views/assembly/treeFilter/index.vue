<template>
  <flex-card>
    <div class="base-warp">
      <div class="content-box">
        <TreeFilter
          label="name"
          title="éƒ¨é—¨åˆ—è¡¨(å•é€‰)"
          :request="{ url: userInfo, method: 'get' }"
          :data="dataJson"
          :defaultValue="treeFilterValue.departmentId"
          @change="changeTreeFilter"
        />
        <TreeFilter
          title="éƒ¨é—¨åˆ—è¡¨(å¤šé€‰)"
          multiple
          label="name"
          :request="{ url: userInfo, method: 'post' }"
          :data="dataJson"
          :defaultValue="treeFilterValue1.departmentId"
          @change="changeTreeFilter1"
        />
        <div class="descriptions-box over-card">
          <span class="text"> æ ‘å½¢ç­›é€‰å™¨ ğŸ“ğŸ‡ğŸˆğŸ‰</span>
          <el-descriptions title="é…ç½®é¡¹ ğŸ“š" :column="1" border>
            <el-descriptions-item label="request"> è¯·æ±‚åˆ†ç±»çš„apiåŒ…å« url å’Œ methodï¼Œ { url: '', method: '' }</el-descriptions-item>
            <el-descriptions-item label="data"> åˆ†ç±»æ•°æ®ï¼Œå¦‚æœæœ‰åˆ†ç±»æ•°æ®ï¼Œåˆ™ä¸ä¼šæ‰§è¡Œ api è¯·æ±‚ </el-descriptions-item>
            <el-descriptions-item label="title"> treeFilter æ ‡é¢˜ </el-descriptions-item>
            <el-descriptions-item label="id"> é€‰æ‹©çš„idï¼Œé»˜è®¤ä¸º â€œidâ€ </el-descriptions-item>
            <el-descriptions-item label="label"> æ˜¾ç¤ºçš„labelï¼Œé»˜è®¤ä¸º â€œlabelâ€ </el-descriptions-item>
            <el-descriptions-item label="multiple"> æ˜¯å¦ä¸ºå¤šé€‰ï¼Œé»˜è®¤ä¸º false </el-descriptions-item>
            <el-descriptions-item label="defaultValue"> é»˜è®¤é€‰ä¸­çš„å€¼ </el-descriptions-item>
            <el-descriptions-item label="checkStrictly"> å¤šé€‰æ¨¡å¼ä¸‹ï¼Œæ˜¯å¦éµå¾ªçˆ¶å­å…³è”å…³ç³» </el-descriptions-item>
          </el-descriptions>
        </div>
      </div>
    </div>
  </flex-card>
</template>

<script setup lang="ts" name="treeFilter">
import { reactive } from "vue";
import { ElMessage } from "element-plus";
import { userInfo } from "@/config/api";
import TreeFilter from "@/components/TreeFilter/index.vue";
import dataJson from './dataJson.json'

const treeFilterValue = reactive({ departmentId: "1" });
const changeTreeFilter = (val: string) => {
	ElMessage.success(`ä½ é€‰æ‹©äº† id ä¸º ${val} çš„æ•°æ®ğŸ¤”`);
	treeFilterValue.departmentId = val;
};

const treeFilterValue1 = reactive({ departmentId: ["11"] });
const changeTreeFilter1 = (val: string[]) => {
	ElMessage.success(`ä½ é€‰æ‹©äº† id ä¸º ${JSON.stringify(val)} çš„æ•°æ®ğŸ¤”`);
	treeFilterValue1.departmentId = val;
};
</script>

<style scoped lang="scss">
.content-box {
  width: 100%;
  .descriptions-box {
    display: flex;
		flex: 1;
		flex-direction: column;
		align-items: center;
		height: 100%;
    background-color: var(--el-bg-color);
    .text {
      margin: 20px 0 30px;
      font-size: 23px;
      font-weight: bold;
      color: var(--el-text-color-regular);
    }
    .el-descriptions {
      width: 100%;
    }
  }
}
</style>
